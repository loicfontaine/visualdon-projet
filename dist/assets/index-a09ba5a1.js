(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var nn={},ye={},ve=34,bt=10,_e=13;function qn(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function Tr(t,e){var n=qn(t);return function(r,i){return e(n(r),i,t)}}function rn(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function I(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function qr(t){return t<0?"-"+I(-t,6):t>9999?"+"+I(t,6):I(t,4)}function Rr(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":qr(t.getUTCFullYear())+"-"+I(t.getUTCMonth()+1,2)+"-"+I(t.getUTCDate(),2)+(i?"T"+I(e,2)+":"+I(n,2)+":"+I(r,2)+"."+I(i,3)+"Z":r?"T"+I(e,2)+":"+I(n,2)+":"+I(r,2)+"Z":n||e?"T"+I(e,2)+":"+I(n,2)+"Z":"")}function Pr(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(f,h){var d,p,m=i(f,function(w,A){if(d)return d(w,A-1);p=w,d=h?Tr(w,h):qn(w)});return m.columns=p||[],m}function i(f,h){var d=[],p=f.length,m=0,w=0,A,M=p<=0,b=!1;f.charCodeAt(p-1)===bt&&--p,f.charCodeAt(p-1)===_e&&--p;function k(){if(M)return ye;if(b)return b=!1,nn;var T,O=m,R;if(f.charCodeAt(O)===ve){for(;m++<p&&f.charCodeAt(m)!==ve||f.charCodeAt(++m)===ve;);return(T=m)>=p?M=!0:(R=f.charCodeAt(m++))===bt?b=!0:R===_e&&(b=!0,f.charCodeAt(m)===bt&&++m),f.slice(O+1,T-1).replace(/""/g,'"')}for(;m<p;){if((R=f.charCodeAt(T=m++))===bt)b=!0;else if(R===_e)b=!0,f.charCodeAt(m)===bt&&++m;else if(R!==n)continue;return f.slice(O,T)}return M=!0,f.slice(O,p)}for(;(A=k())!==ye;){for(var x=[];A!==nn&&A!==ye;)x.push(A),A=k();h&&(x=h(x,w++))==null||d.push(x)}return d}function o(f,h){return f.map(function(d){return h.map(function(p){return c(d[p])}).join(t)})}function a(f,h){return h==null&&(h=rn(f)),[h.map(c).join(t)].concat(o(f,h)).join(`
`)}function s(f,h){return h==null&&(h=rn(f)),o(f,h).join(`
`)}function l(f){return f.map(u).join(`
`)}function u(f){return f.map(c).join(t)}function c(f){return f==null?"":f instanceof Date?Rr(f):e.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:a,formatBody:s,formatRows:l,formatRow:u,formatValue:c}}var Ir=Pr(","),Fr=Ir.parse;function Lr(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function zr(t,e){return fetch(t,e).then(Lr)}function Hr(t){return function(e,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),zr(e,n).then(function(i){return t(i,r)})}}var Br=Hr(Fr),Ee="http://www.w3.org/1999/xhtml";const on={svg:"http://www.w3.org/2000/svg",xhtml:Ee,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ce(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),on.hasOwnProperty(e)?{space:on[e],local:t}:t}function Dr(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ee&&e.documentElement.namespaceURI===Ee?e.createElement(t):e.createElementNS(n,t)}}function Vr(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Rn(t){var e=ce(t);return(e.local?Vr:Dr)(e)}function Xr(){}function De(t){return t==null?Xr:function(){return this.querySelector(t)}}function Yr(t){typeof t!="function"&&(t=De(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=new Array(a),l,u,c=0;c<a;++c)(l=o[c])&&(u=t.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new P(r,this._parents)}function Pn(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Ur(){return[]}function In(t){return t==null?Ur:function(){return this.querySelectorAll(t)}}function jr(t){return function(){return Pn(t.apply(this,arguments))}}function Gr(t){typeof t=="function"?t=jr(t):t=In(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&(r.push(t.call(l,l.__data__,u,a)),i.push(l));return new P(r,i)}function Fn(t){return function(){return this.matches(t)}}function Ln(t){return function(e){return e.matches(t)}}var Zr=Array.prototype.find;function Kr(t){return function(){return Zr.call(this.children,t)}}function Qr(){return this.firstElementChild}function Jr(t){return this.select(t==null?Qr:Kr(typeof t=="function"?t:Ln(t)))}var Wr=Array.prototype.filter;function ti(){return Array.from(this.children)}function ei(t){return function(){return Wr.call(this.children,t)}}function ni(t){return this.selectAll(t==null?ti:ei(typeof t=="function"?t:Ln(t)))}function ri(t){typeof t!="function"&&(t=Fn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&s.push(l);return new P(r,this._parents)}function zn(t){return new Array(t.length)}function ii(){return new P(this._enter||this._groups.map(zn),this._parents)}function Wt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Wt.prototype={constructor:Wt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function oi(t){return function(){return t}}function ai(t,e,n,r,i,o){for(var a=0,s,l=e.length,u=o.length;a<u;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new Wt(t,o[a]);for(;a<l;++a)(s=e[a])&&(i[a]=s)}function si(t,e,n,r,i,o,a){var s,l,u=new Map,c=e.length,f=o.length,h=new Array(c),d;for(s=0;s<c;++s)(l=e[s])&&(h[s]=d=a.call(l,l.__data__,s,e)+"",u.has(d)?i[s]=l:u.set(d,l));for(s=0;s<f;++s)d=a.call(t,o[s],s,o)+"",(l=u.get(d))?(r[s]=l,l.__data__=o[s],u.delete(d)):n[s]=new Wt(t,o[s]);for(s=0;s<c;++s)(l=e[s])&&u.get(h[s])===l&&(i[s]=l)}function li(t){return t.__data__}function ui(t,e){if(!arguments.length)return Array.from(this,li);var n=e?si:ai,r=this._parents,i=this._groups;typeof t!="function"&&(t=oi(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],f=i[u],h=f.length,d=ci(t.call(c,c&&c.__data__,u,r)),p=d.length,m=s[u]=new Array(p),w=a[u]=new Array(p),A=l[u]=new Array(h);n(c,f,m,w,A,d,e);for(var M=0,b=0,k,x;M<p;++M)if(k=m[M]){for(M>=b&&(b=M+1);!(x=w[b])&&++b<p;);k._next=x||null}}return a=new P(a,r),a._enter=s,a._exit=l,a}function ci(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function fi(){return new P(this._exit||this._groups.map(zn),this._parents)}function hi(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function di(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var u=n[l],c=r[l],f=u.length,h=s[l]=new Array(f),d,p=0;p<f;++p)(d=u[p]||c[p])&&(h[p]=d);for(;l<i;++l)s[l]=n[l];return new P(s,this._parents)}function pi(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function gi(t){t||(t=mi);function e(f,h){return f&&h?t(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,l=i[o]=new Array(s),u,c=0;c<s;++c)(u=a[c])&&(l[c]=u);l.sort(e)}return new P(i,this._parents).order()}function mi(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function yi(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function vi(){return Array.from(this)}function _i(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function xi(){let t=0;for(const e of this)++t;return t}function wi(){return!this.node()}function bi(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function $i(t){return function(){this.removeAttribute(t)}}function Si(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ai(t,e){return function(){this.setAttribute(t,e)}}function Mi(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ki(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Ni(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Ei(t,e){var n=ce(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Si:$i:typeof e=="function"?n.local?Ni:ki:n.local?Mi:Ai)(n,e))}function Hn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Oi(t){return function(){this.style.removeProperty(t)}}function Ci(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ti(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function qi(t,e,n){return arguments.length>1?this.each((e==null?Oi:typeof e=="function"?Ti:Ci)(t,e,n??"")):vt(this.node(),t)}function vt(t,e){return t.style.getPropertyValue(e)||Hn(t).getComputedStyle(t,null).getPropertyValue(e)}function Ri(t){return function(){delete this[t]}}function Pi(t,e){return function(){this[t]=e}}function Ii(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Fi(t,e){return arguments.length>1?this.each((e==null?Ri:typeof e=="function"?Ii:Pi)(t,e)):this.node()[t]}function Bn(t){return t.trim().split(/^|\s+/)}function Ve(t){return t.classList||new Dn(t)}function Dn(t){this._node=t,this._names=Bn(t.getAttribute("class")||"")}Dn.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Vn(t,e){for(var n=Ve(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Xn(t,e){for(var n=Ve(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Li(t){return function(){Vn(this,t)}}function zi(t){return function(){Xn(this,t)}}function Hi(t,e){return function(){(e.apply(this,arguments)?Vn:Xn)(this,t)}}function Bi(t,e){var n=Bn(t+"");if(arguments.length<2){for(var r=Ve(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Hi:e?Li:zi)(n,e))}function Di(){this.textContent=""}function Vi(t){return function(){this.textContent=t}}function Xi(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Yi(t){return arguments.length?this.each(t==null?Di:(typeof t=="function"?Xi:Vi)(t)):this.node().textContent}function Ui(){this.innerHTML=""}function ji(t){return function(){this.innerHTML=t}}function Gi(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Zi(t){return arguments.length?this.each(t==null?Ui:(typeof t=="function"?Gi:ji)(t)):this.node().innerHTML}function Ki(){this.nextSibling&&this.parentNode.appendChild(this)}function Qi(){return this.each(Ki)}function Ji(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Wi(){return this.each(Ji)}function to(t){var e=typeof t=="function"?t:Rn(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function eo(){return null}function no(t,e){var n=typeof t=="function"?t:Rn(t),r=e==null?eo:typeof e=="function"?e:De(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function ro(){var t=this.parentNode;t&&t.removeChild(this)}function io(){return this.each(ro)}function oo(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ao(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function so(t){return this.select(t?ao:oo)}function lo(t){return arguments.length?this.property("__data__",t):this.node().__data__}function uo(t){return function(e){t.call(this,e,this.__data__)}}function co(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function fo(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function ho(t,e,n){return function(){var r=this.__on,i,o=uo(e);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function po(t,e,n){var r=co(t+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(i=0,c=s[l];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(s=e?ho:fo,i=0;i<o;++i)this.each(s(r[i],e,n));return this}function Yn(t,e,n){var r=Hn(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function go(t,e){return function(){return Yn(this,t,e)}}function mo(t,e){return function(){return Yn(this,t,e.apply(this,arguments))}}function yo(t,e){return this.each((typeof e=="function"?mo:go)(t,e))}function*vo(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var Xe=[null];function P(t,e){this._groups=t,this._parents=e}function It(){return new P([[document.documentElement]],Xe)}function _o(){return this}P.prototype=It.prototype={constructor:P,select:Yr,selectAll:Gr,selectChild:Jr,selectChildren:ni,filter:ri,data:ui,enter:ii,exit:fi,join:hi,merge:di,selection:_o,order:pi,sort:gi,call:yi,nodes:vi,node:_i,size:xi,empty:wi,each:bi,attr:Ei,style:qi,property:Fi,classed:Bi,text:Yi,html:Zi,raise:Qi,lower:Wi,append:to,insert:no,remove:io,clone:so,datum:lo,on:po,dispatch:yo,[Symbol.iterator]:vo};function J(t){return typeof t=="string"?new P([[document.querySelector(t)]],[document.documentElement]):new P([[t]],Xe)}function zt(t){return typeof t=="string"?new P([document.querySelectorAll(t)],[document.documentElement]):new P([Pn(t)],Xe)}function Gt(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xo(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Un(t){let e,n,r;t.length!==2?(e=Gt,n=(s,l)=>Gt(t(s),l),r=(s,l)=>t(s)-l):(e=t===Gt||t===xo?t:wo,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function wo(){return 0}function bo(t){return t===null?NaN:+t}const $o=Un(Gt),So=$o.right;Un(bo).center;const Ao=So;class an extends Map{constructor(e,n=No){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(sn(this,e))}has(e){return super.has(sn(this,e))}set(e,n){return super.set(Mo(this,e),n)}delete(e){return super.delete(ko(this,e))}}function sn({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Mo({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ko({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function No(t){return t!==null&&typeof t=="object"?t.valueOf():t}const Eo=Math.sqrt(50),Oo=Math.sqrt(10),Co=Math.sqrt(2);function te(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Eo?10:o>=Oo?5:o>=Co?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?te(t,e,n*2):[s,l,u]}function To(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?te(e,t,n):te(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function Oe(t,e,n){return e=+e,t=+t,n=+n,te(t,e,n)[2]}function qo(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Oe(e,t,n):Oe(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Tt(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function jn(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function ee(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function Ro(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Po(t){return t}var xe=1,we=2,Ce=3,Mt=4,ln=1e-6;function Io(t){return"translate("+t+",0)"}function Fo(t){return"translate(0,"+t+")"}function Lo(t){return e=>+t(e)}function zo(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Ho(){return!this.__axis}function Gn(t,e){var n=[],r=null,i=null,o=6,a=6,s=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===xe||t===Mt?-1:1,c=t===Mt||t===we?"x":"y",f=t===xe||t===Ce?Io:Fo;function h(d){var p=r??(e.ticks?e.ticks.apply(e,n):e.domain()),m=i??(e.tickFormat?e.tickFormat.apply(e,n):Po),w=Math.max(o,0)+s,A=e.range(),M=+A[0]+l,b=+A[A.length-1]+l,k=(e.bandwidth?zo:Lo)(e.copy(),l),x=d.selection?d.selection():d,T=x.selectAll(".domain").data([null]),O=x.selectAll(".tick").data(p,e).order(),R=O.exit(),tt=O.enter().append("g").attr("class","tick"),D=O.select("line"),y=O.select("text");T=T.merge(T.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),O=O.merge(tt),D=D.merge(tt.append("line").attr("stroke","currentColor").attr(c+"2",u*o)),y=y.merge(tt.append("text").attr("fill","currentColor").attr(c,u*w).attr("dy",t===xe?"0em":t===Ce?"0.71em":"0.32em")),d!==x&&(T=T.transition(d),O=O.transition(d),D=D.transition(d),y=y.transition(d),R=R.transition(d).attr("opacity",ln).attr("transform",function(N){return isFinite(N=k(N))?f(N+l):this.getAttribute("transform")}),tt.attr("opacity",ln).attr("transform",function(N){var v=this.parentNode.__axis;return f((v&&isFinite(v=v(N))?v:k(N))+l)})),R.remove(),T.attr("d",t===Mt||t===we?a?"M"+u*a+","+M+"H"+l+"V"+b+"H"+u*a:"M"+l+","+M+"V"+b:a?"M"+M+","+u*a+"V"+l+"H"+b+"V"+u*a:"M"+M+","+l+"H"+b),O.attr("opacity",1).attr("transform",function(N){return f(k(N)+l)}),D.attr(c+"2",u*o),y.attr(c,u*w).text(m),x.filter(Ho).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===we?"start":t===Mt?"end":"middle"),x.each(function(){this.__axis=k})}return h.scale=function(d){return arguments.length?(e=d,h):e},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),h):n.slice()},h.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),h):r&&r.slice()},h.tickFormat=function(d){return arguments.length?(i=d,h):i},h.tickSize=function(d){return arguments.length?(o=a=+d,h):o},h.tickSizeInner=function(d){return arguments.length?(o=+d,h):o},h.tickSizeOuter=function(d){return arguments.length?(a=+d,h):a},h.tickPadding=function(d){return arguments.length?(s=+d,h):s},h.offset=function(d){return arguments.length?(l=+d,h):l},h}function fe(t){return Gn(Ce,t)}function he(t){return Gn(Mt,t)}function Ye(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const un=Symbol("implicit");function Ue(){var t=new an,e=[],n=[],r=un;function i(o){let a=t.get(o);if(a===void 0){if(r!==un)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new an;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Ue(e,n).unknown(r)},Ye.apply(i,arguments),i}function Zn(){var t=Ue().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,d=i<r,p=d?i:r,m=d?r:i;o=(m-p)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),p+=(m-p-o*(h-l))*c,a=o*(1-l),s&&(p=Math.round(p),a=Math.round(a));var w=Ro(h).map(function(A){return p+o*A});return n(d?w.reverse():w)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return Zn(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Ye.apply(f(),arguments)}function je(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Kn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ft(){}var qt=.7,ne=1/qt,yt="\\s*([+-]?\\d+)\\s*",Rt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",U="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bo=/^#([0-9a-f]{3,8})$/,Do=new RegExp(`^rgb\\(${yt},${yt},${yt}\\)$`),Vo=new RegExp(`^rgb\\(${U},${U},${U}\\)$`),Xo=new RegExp(`^rgba\\(${yt},${yt},${yt},${Rt}\\)$`),Yo=new RegExp(`^rgba\\(${U},${U},${U},${Rt}\\)$`),Uo=new RegExp(`^hsl\\(${Rt},${U},${U}\\)$`),jo=new RegExp(`^hsla\\(${Rt},${U},${U},${Rt}\\)$`),cn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};je(Ft,ct,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:fn,formatHex:fn,formatHex8:Go,formatHsl:Zo,formatRgb:hn,toString:hn});function fn(){return this.rgb().formatHex()}function Go(){return this.rgb().formatHex8()}function Zo(){return Qn(this).formatHsl()}function hn(){return this.rgb().formatRgb()}function ct(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Bo.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?dn(e):n===3?new F(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ht(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ht(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Do.exec(t))?new F(e[1],e[2],e[3],1):(e=Vo.exec(t))?new F(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Xo.exec(t))?Ht(e[1],e[2],e[3],e[4]):(e=Yo.exec(t))?Ht(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Uo.exec(t))?mn(e[1],e[2]/100,e[3]/100,1):(e=jo.exec(t))?mn(e[1],e[2]/100,e[3]/100,e[4]):cn.hasOwnProperty(t)?dn(cn[t]):t==="transparent"?new F(NaN,NaN,NaN,0):null}function dn(t){return new F(t>>16&255,t>>8&255,t&255,1)}function Ht(t,e,n,r){return r<=0&&(t=e=n=NaN),new F(t,e,n,r)}function Ko(t){return t instanceof Ft||(t=ct(t)),t?(t=t.rgb(),new F(t.r,t.g,t.b,t.opacity)):new F}function Te(t,e,n,r){return arguments.length===1?Ko(t):new F(t,e,n,r??1)}function F(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}je(F,Te,Kn(Ft,{brighter(t){return t=t==null?ne:Math.pow(ne,t),new F(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?qt:Math.pow(qt,t),new F(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new F(ut(this.r),ut(this.g),ut(this.b),re(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pn,formatHex:pn,formatHex8:Qo,formatRgb:gn,toString:gn}));function pn(){return`#${ot(this.r)}${ot(this.g)}${ot(this.b)}`}function Qo(){return`#${ot(this.r)}${ot(this.g)}${ot(this.b)}${ot((isNaN(this.opacity)?1:this.opacity)*255)}`}function gn(){const t=re(this.opacity);return`${t===1?"rgb(":"rgba("}${ut(this.r)}, ${ut(this.g)}, ${ut(this.b)}${t===1?")":`, ${t})`}`}function re(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ut(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ot(t){return t=ut(t),(t<16?"0":"")+t.toString(16)}function mn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new H(t,e,n,r)}function Qn(t){if(t instanceof H)return new H(t.h,t.s,t.l,t.opacity);if(t instanceof Ft||(t=ct(t)),!t)return new H;if(t instanceof H)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new H(a,s,l,t.opacity)}function Jo(t,e,n,r){return arguments.length===1?Qn(t):new H(t,e,n,r??1)}function H(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}je(H,Jo,Kn(Ft,{brighter(t){return t=t==null?ne:Math.pow(ne,t),new H(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?qt:Math.pow(qt,t),new H(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new F(be(t>=240?t-240:t+120,i,r),be(t,i,r),be(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new H(yn(this.h),Bt(this.s),Bt(this.l),re(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=re(this.opacity);return`${t===1?"hsl(":"hsla("}${yn(this.h)}, ${Bt(this.s)*100}%, ${Bt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function yn(t){return t=(t||0)%360,t<0?t+360:t}function Bt(t){return Math.max(0,Math.min(1,t||0))}function be(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Ge=t=>()=>t;function Wo(t,e){return function(n){return t+n*e}}function ta(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ea(t){return(t=+t)==1?Jn:function(e,n){return n-e?ta(e,n,t):Ge(isNaN(e)?n:e)}}function Jn(t,e){var n=e-t;return n?Wo(t,n):Ge(isNaN(t)?e:t)}const ie=function t(e){var n=ea(e);function r(i,o){var a=n((i=Te(i)).r,(o=Te(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=Jn(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function na(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function ra(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ia(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Ze(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function oa(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function z(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function aa(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ze(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var qe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$e=new RegExp(qe.source,"g");function sa(t){return function(){return t}}function la(t){return function(e){return t(e)+""}}function Wn(t,e){var n=qe.lastIndex=$e.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=qe.exec(t))&&(i=$e.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:z(r,i)})),n=$e.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?la(l[0].x):sa(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function Ze(t,e){var n=typeof e,r;return e==null||n==="boolean"?Ge(e):(n==="number"?z:n==="string"?(r=ct(e))?(e=r,ie):Wn:e instanceof ct?ie:e instanceof Date?oa:ra(e)?na:Array.isArray(e)?ia:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?aa:z)(t,e)}function ua(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var vn=180/Math.PI,Re={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function tr(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*vn,skewX:Math.atan(l)*vn,scaleX:a,scaleY:s}}var Dt;function ca(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Re:tr(e.a,e.b,e.c,e.d,e.e,e.f)}function fa(t){return t==null||(Dt||(Dt=document.createElementNS("http://www.w3.org/2000/svg","g")),Dt.setAttribute("transform",t),!(t=Dt.transform.baseVal.consolidate()))?Re:(t=t.matrix,tr(t.a,t.b,t.c,t.d,t.e,t.f))}function er(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,f,h,d,p){if(u!==f||c!==h){var m=d.push("translate(",null,e,null,n);p.push({i:m-4,x:z(u,f)},{i:m-2,x:z(c,h)})}else(f||h)&&d.push("translate("+f+e+h+n)}function a(u,c,f,h){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:z(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function s(u,c,f,h){u!==c?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:z(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,h,d,p){if(u!==f||c!==h){var m=d.push(i(d)+"scale(",null,",",null,")");p.push({i:m-4,x:z(u,f)},{i:m-2,x:z(c,h)})}else(f!==1||h!==1)&&d.push(i(d)+"scale("+f+","+h+")")}return function(u,c){var f=[],h=[];return u=t(u),c=t(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,h),a(u.rotate,c.rotate,f,h),s(u.skewX,c.skewX,f,h),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,h),u=c=null,function(d){for(var p=-1,m=h.length,w;++p<m;)f[(w=h[p]).i]=w.x(d);return f.join("")}}}var ha=er(ca,"px, ","px)","deg)"),da=er(fa,", ",")",")");function pa(t){return function(){return t}}function ga(t){return+t}var _n=[0,1];function mt(t){return t}function Pe(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:pa(isNaN(e)?NaN:.5)}function ma(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function ya(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Pe(i,r),o=n(a,o)):(r=Pe(r,i),o=n(o,a)),function(s){return o(r(s))}}function va(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Pe(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Ao(t,s,1,r)-1;return o[l](i[l](s))}}function _a(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function xa(){var t=_n,e=_n,n=Ze,r,i,o,a=mt,s,l,u;function c(){var h=Math.min(t.length,e.length);return a!==mt&&(a=ma(t[0],t[h-1])),s=h>2?va:ya,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(i((u||(u=s(e,t.map(r),z)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,ga),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=ua,c()},f.clamp=function(h){return arguments.length?(a=h?!0:mt,c()):a!==mt},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,d){return r=h,i=d,c()}}function wa(){return xa()(mt,mt)}function ba(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function oe(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function _t(t){return t=oe(Math.abs(t)),t?t[1]:NaN}function $a(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function Sa(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Aa=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ae(t){if(!(e=Aa.exec(t)))throw new Error("invalid format: "+t);var e;return new Ke({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ae.prototype=Ke.prototype;function Ke(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ke.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ma(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var nr;function ka(t,e){var n=oe(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(nr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+oe(t,Math.max(0,e+o-1))[0]}function xn(t,e){var n=oe(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const wn={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ba,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>xn(t*100,e),r:xn,s:ka,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function bn(t){return t}var $n=Array.prototype.map,Sn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Na(t){var e=t.grouping===void 0||t.thousands===void 0?bn:$a($n.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?bn:Sa($n.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=ae(f);var h=f.fill,d=f.align,p=f.sign,m=f.symbol,w=f.zero,A=f.width,M=f.comma,b=f.precision,k=f.trim,x=f.type;x==="n"?(M=!0,x="g"):wn[x]||(b===void 0&&(b=12),k=!0,x="g"),(w||h==="0"&&d==="=")&&(w=!0,h="0",d="=");var T=m==="$"?n:m==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",O=m==="$"?r:/[%p]/.test(x)?a:"",R=wn[x],tt=/[defgprs%]/.test(x);b=b===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function D(y){var N=T,v=O,g,$,_;if(x==="c")v=R(y)+v,y="";else{y=+y;var S=y<0||1/y<0;if(y=isNaN(y)?l:R(Math.abs(y),b),k&&(y=Ma(y)),S&&+y==0&&p!=="+"&&(S=!1),N=(S?p==="("?p:s:p==="-"||p==="("?"":p)+N,v=(x==="s"?Sn[8+nr/3]:"")+v+(S&&p==="("?")":""),tt){for(g=-1,$=y.length;++g<$;)if(_=y.charCodeAt(g),48>_||_>57){v=(_===46?i+y.slice(g+1):y.slice(g))+v,y=y.slice(0,g);break}}}M&&!w&&(y=e(y,1/0));var E=N.length+y.length+v.length,C=E<A?new Array(A-E+1).join(h):"";switch(M&&w&&(y=e(C+y,C.length?A-v.length:1/0),C=""),d){case"<":y=N+y+v+C;break;case"=":y=N+C+y+v;break;case"^":y=C.slice(0,E=C.length>>1)+N+y+v+C.slice(E);break;default:y=C+N+y+v;break}return o(y)}return D.toString=function(){return f+""},D}function c(f,h){var d=u((f=ae(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(_t(h)/3)))*3,m=Math.pow(10,-p),w=Sn[8+p/3];return function(A){return d(m*A)+w}}return{format:u,formatPrefix:c}}var Vt,rr,ir;Ea({thousands:",",grouping:[3],currency:["$",""]});function Ea(t){return Vt=Na(t),rr=Vt.format,ir=Vt.formatPrefix,Vt}function Oa(t){return Math.max(0,-_t(Math.abs(t)))}function Ca(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_t(e)/3)))*3-_t(Math.abs(t)))}function Ta(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,_t(e)-_t(t))+1}function qa(t,e,n,r){var i=qo(t,e,n),o;switch(r=ae(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Ca(i,a))&&(r.precision=o),ir(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Ta(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Oa(i))&&(r.precision=o-(r.type==="%")*2);break}}return rr(r)}function Ra(t){var e=t.domain;return t.ticks=function(n){var r=e();return To(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return qa(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=Oe(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function et(){var t=wa();return t.copy=function(){return _a(t,et())},Ye.apply(t,arguments),Ra(t)}function pt(t){return function(){return t}}const Ie=Math.PI,Fe=2*Ie,rt=1e-6,Pa=Fe-rt;function or(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Ia(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return or;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Fa{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?or:Ia(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,f=s-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>rt)if(!(Math.abs(f*l-u*c)>rt)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let d=r-a,p=i-s,m=l*l+u*u,w=d*d+p*p,A=Math.sqrt(m),M=Math.sqrt(h),b=o*Math.tan((Ie-Math.acos((m+h-w)/(2*A*M)))/2),k=b/M,x=b/A;Math.abs(k-1)>rt&&this._append`L${e+k*c},${n+k*f}`,this._append`A${o},${o},0,0,${+(f*d>c*p)},${this._x1=e+x*l},${this._y1=n+x*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>rt||Math.abs(this._y1-c)>rt)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%Fe+Fe),h>Pa?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>rt&&this._append`A${r},${r},0,${+(h>=Ie)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function La(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Fa(e)}function za(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ar(t){this._context=t}ar.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ha(t){return new ar(t)}function Ba(t){return t[0]}function Da(t){return t[1]}function Qe(t,e){var n=pt(!0),r=null,i=Ha,o=null,a=La(s);t=typeof t=="function"?t:t===void 0?Ba:pt(t),e=typeof e=="function"?e:e===void 0?Da:pt(e);function s(l){var u,c=(l=za(l)).length,f,h=!1,d;for(r==null&&(o=i(d=a())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(d)return o=null,d+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:pt(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:pt(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:pt(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Va(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const Xa=Va("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3");var Ya={value:()=>{}};function sr(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Zt(n)}function Zt(t){this._=t}function Ua(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Zt.prototype=sr.prototype={constructor:Zt,on:function(t,e){var n=this._,r=Ua(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=ja(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=An(n[i],t.name,e);else if(e==null)for(i in n)n[i]=An(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Zt(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function ja(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function An(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Ya,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var xt=0,kt=0,$t=0,lr=1e3,se,Nt,le=0,ft=0,de=0,Pt=typeof performance=="object"&&performance.now?performance:Date,ur=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Je(){return ft||(ur(Ga),ft=Pt.now()+de)}function Ga(){ft=0}function ue(){this._call=this._time=this._next=null}ue.prototype=cr.prototype={constructor:ue,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Je():+n)+(e==null?0:+e),!this._next&&Nt!==this&&(Nt?Nt._next=this:se=this,Nt=this),this._call=t,this._time=n,Le()},stop:function(){this._call&&(this._call=null,this._time=1/0,Le())}};function cr(t,e,n){var r=new ue;return r.restart(t,e,n),r}function Za(){Je(),++xt;for(var t=se,e;t;)(e=ft-t._time)>=0&&t._call.call(void 0,e),t=t._next;--xt}function Mn(){ft=(le=Pt.now())+de,xt=kt=0;try{Za()}finally{xt=0,Qa(),ft=0}}function Ka(){var t=Pt.now(),e=t-le;e>lr&&(de-=e,le=t)}function Qa(){for(var t,e=se,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:se=n);Nt=t,Le(r)}function Le(t){if(!xt){kt&&(kt=clearTimeout(kt));var e=t-ft;e>24?(t<1/0&&(kt=setTimeout(Mn,t-Pt.now()-de)),$t&&($t=clearInterval($t))):($t||(le=Pt.now(),$t=setInterval(Ka,lr)),xt=1,ur(Mn))}}function kn(t,e,n){var r=new ue;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Ja=sr("start","end","cancel","interrupt"),Wa=[],fr=0,Nn=1,ze=2,Kt=3,En=4,He=5,Qt=6;function pe(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;ts(t,n,{name:e,index:r,group:i,on:Ja,tween:Wa,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:fr})}function We(t,e){var n=B(t,e);if(n.state>fr)throw new Error("too late; already scheduled");return n}function j(t,e){var n=B(t,e);if(n.state>Kt)throw new Error("too late; already running");return n}function B(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ts(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=cr(o,0,n.time);function o(u){n.state=Nn,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,f,h,d;if(n.state!==Nn)return l();for(c in r)if(d=r[c],d.name===n.name){if(d.state===Kt)return kn(a);d.state===En?(d.state=Qt,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<e&&(d.state=Qt,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(kn(function(){n.state===Kt&&(n.state=En,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=ze,n.on.call("start",t,t.__data__,n.index,n.group),n.state===ze){for(n.state=Kt,i=new Array(h=n.tween.length),c=0,f=-1;c<h;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=d);i.length=f+1}}function s(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=He,1),f=-1,h=i.length;++f<h;)i[f].call(t,c);n.state===He&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=Qt,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function es(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>ze&&r.state<He,r.state=Qt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function ns(t){return this.each(function(){es(this,t)})}function rs(t,e){var n,r;return function(){var i=j(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function is(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=j(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=s;break}l===u&&i.push(s)}o.tween=i}}function os(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=B(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?rs:is)(n,t,e))}function tn(t,e,n){var r=t._id;return t.each(function(){var i=j(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return B(i,r).value[e]}}function hr(t,e){var n;return(typeof e=="number"?z:e instanceof ct?ie:(n=ct(e))?(e=n,ie):Wn)(t,e)}function as(t){return function(){this.removeAttribute(t)}}function ss(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ls(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function us(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function cs(t,e,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s)))}}function fs(t,e,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s)))}}function hs(t,e){var n=ce(t),r=n==="transform"?da:hr;return this.attrTween(t,typeof e=="function"?(n.local?fs:cs)(n,r,tn(this,"attr."+t,e)):e==null?(n.local?ss:as)(n):(n.local?us:ls)(n,r,e))}function ds(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function ps(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function gs(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&ps(t,o)),n}return i._value=e,i}function ms(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&ds(t,o)),n}return i._value=e,i}function ys(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=ce(t);return this.tween(n,(r.local?gs:ms)(r,e))}function vs(t,e){return function(){We(this,t).delay=+e.apply(this,arguments)}}function _s(t,e){return e=+e,function(){We(this,t).delay=e}}function xs(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?vs:_s)(e,t)):B(this.node(),e).delay}function ws(t,e){return function(){j(this,t).duration=+e.apply(this,arguments)}}function bs(t,e){return e=+e,function(){j(this,t).duration=e}}function $s(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ws:bs)(e,t)):B(this.node(),e).duration}function Ss(t,e){if(typeof e!="function")throw new Error;return function(){j(this,t).ease=e}}function As(t){var e=this._id;return arguments.length?this.each(Ss(e,t)):B(this.node(),e).ease}function Ms(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;j(this,t).ease=n}}function ks(t){if(typeof t!="function")throw new Error;return this.each(Ms(this._id,t))}function Ns(t){typeof t!="function"&&(t=Fn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&s.push(l);return new W(r,this._parents,this._name,this._id)}function Es(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l=e[s],u=n[s],c=l.length,f=a[s]=new Array(c),h,d=0;d<c;++d)(h=l[d]||u[d])&&(f[d]=h);for(;s<r;++s)a[s]=e[s];return new W(a,this._parents,this._name,this._id)}function Os(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Cs(t,e,n){var r,i,o=Os(e)?We:j;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function Ts(t,e){var n=this._id;return arguments.length<2?B(this.node(),n).on.on(t):this.each(Cs(n,t,e))}function qs(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Rs(){return this.on("end.remove",qs(this._id))}function Ps(t){var e=this._name,n=this._id;typeof t!="function"&&(t=De(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],l=s.length,u=o[a]=new Array(l),c,f,h=0;h<l;++h)(c=s[h])&&(f=t.call(c,c.__data__,h,s))&&("__data__"in c&&(f.__data__=c.__data__),u[h]=f,pe(u[h],e,n,h,u,B(c,n)));return new W(o,this._parents,e,n)}function Is(t){var e=this._name,n=this._id;typeof t!="function"&&(t=In(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l=r[s],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var h=t.call(c,c.__data__,f,l),d,p=B(c,n),m=0,w=h.length;m<w;++m)(d=h[m])&&pe(d,e,n,m,h,p);o.push(h),a.push(c)}return new W(o,a,e,n)}var Fs=It.prototype.constructor;function Ls(){return new Fs(this._groups,this._parents)}function zs(t,e){var n,r,i;return function(){var o=vt(this,t),a=(this.style.removeProperty(t),vt(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function dr(t){return function(){this.style.removeProperty(t)}}function Hs(t,e,n){var r,i=n+"",o;return function(){var a=vt(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function Bs(t,e,n){var r,i,o;return function(){var a=vt(this,t),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),vt(this,t))),a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s))}}function Ds(t,e){var n,r,i,o="style."+e,a="end."+o,s;return function(){var l=j(this,t),u=l.on,c=l.value[o]==null?s||(s=dr(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(a,i=c),l.on=r}}function Vs(t,e,n){var r=(t+="")=="transform"?ha:hr;return e==null?this.styleTween(t,zs(t,r)).on("end.style."+t,dr(t)):typeof e=="function"?this.styleTween(t,Bs(t,r,tn(this,"style."+t,e))).each(Ds(this._id,t)):this.styleTween(t,Hs(t,r,e),n).on("end.style."+t,null)}function Xs(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Ys(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&Xs(t,a,n)),r}return o._value=e,o}function Us(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Ys(t,e,n??""))}function js(t){return function(){this.textContent=t}}function Gs(t){return function(){var e=t(this);this.textContent=e??""}}function Zs(t){return this.tween("text",typeof t=="function"?Gs(tn(this,"text",t)):js(t==null?"":t+""))}function Ks(t){return function(e){this.textContent=t.call(this,e)}}function Qs(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Ks(i)),e}return r._value=t,r}function Js(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Qs(t))}function Ws(){for(var t=this._name,e=this._id,n=pr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)if(l=a[u]){var c=B(l,e);pe(l,t,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new W(r,this._parents,t,n)}function tl(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--i===0&&o()}};n.each(function(){var u=j(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),u.on=e}),i===0&&o()})}var el=0;function W(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function pr(){return++el}var G=It.prototype;W.prototype={constructor:W,select:Ps,selectAll:Is,selectChild:G.selectChild,selectChildren:G.selectChildren,filter:Ns,merge:Es,selection:Ls,transition:Ws,call:G.call,nodes:G.nodes,node:G.node,size:G.size,empty:G.empty,each:G.each,on:Ts,attr:hs,attrTween:ys,style:Vs,styleTween:Us,text:Zs,textTween:Js,remove:Rs,tween:os,delay:xs,duration:$s,ease:As,easeVarying:ks,end:tl,[Symbol.iterator]:G[Symbol.iterator]};const ge=t=>+t;function nl(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var rl={time:null,delay:0,duration:250,ease:nl};function il(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function ol(t){var e,n;t instanceof W?(e=t._id,t=t._name):(e=pr(),(n=rl).time=Je(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&pe(l,t,e,u,a,n||il(l,e));return new W(r,this._parents,t,e)}It.prototype.interrupt=ns;It.prototype.transition=ol;function al(t,e=document){return typeof t=="string"?Array.from(e.querySelectorAll(t)):t instanceof Element?[t]:t instanceof NodeList?Array.from(t):t instanceof Array?t:[]}function sl(t){const e=document.createElement("div");e.className=`scrollama__debug-step ${t}`,e.style.position="fixed",e.style.left="0",e.style.width="100%",e.style.zIndex="9999",e.style.borderTop="2px solid black",e.style.borderBottom="2px solid black";const n=document.createElement("p");return n.style.position="absolute",n.style.left="0",n.style.height="1px",n.style.width="100%",n.style.borderTop="1px dashed black",e.appendChild(n),document.body.appendChild(e),e}function ll({id:t,step:e,marginTop:n}){const{index:r,height:i}=e,o=`scrollama__debug-step--${t}-${r}`;let a=document.querySelector(`.${o}`);a||(a=sl(o)),a.style.top=`${n*-1}px`,a.style.height=`${i}px`,a.querySelector("p").style.top=`${i/2}px`}function ul(){const t="abcdefghijklmnopqrstuvwxyz",e=Date.now(),n=[];for(let r=0;r<6;r+=1){const i=t[Math.floor(Math.random()*t.length)];n.push(i)}return`${n.join("")}${e}`}function Xt(t){console.error(`scrollama error: ${t}`)}function St(t){return+t.getAttribute("data-scrollama-index")}function cl(t,e){const n=Math.ceil(t/e),r=[],i=1/n;for(let o=0;o<n+1;o+=1)r.push(o*i);return r}function Se(t){if(typeof t=="string"&&t.indexOf("px")>0){const e=+t.replace("px","");return isNaN(e)?(err("offset value must be in 'px' format. Fallback to 0.5."),{format:"percent",value:.5}):{format:"pixels",value:e}}else if(typeof t=="number"||!isNaN(+t))return t>1&&err("offset value is greater than 1. Fallback to 1."),t<0&&err("offset value is lower than 0. Fallback to 0."),{format:"percent",value:Math.min(Math.max(0,t),1)};return null}function fl(t){t.forEach(e=>e.node.setAttribute("data-scrollama-index",e.index))}function hl(t){const{top:e}=t.getBoundingClientRect(),n=window.pageYOffset,r=document.body.clientTop||0;return e+n-r}let gt,Jt,Z;function gr(t){const e=t?t.scrollTop:window.pageYOffset;gt!==e&&(gt=e,gt>Jt?Z="down":gt<Jt&&(Z="up"),Jt=gt)}function dl(t){gt=0,Jt=0,document.addEventListener("scroll",()=>gr(t))}function pl(){let t={},e=ul(),n=[],r,i,o,a=0,s=!1,l=!1,u=!1,c=!1,f=[];function h(){t={stepEnter:()=>{},stepExit:()=>{},stepProgress:()=>{}},f=[]}function d(g){g&&!s&&N(),!g&&s&&x(),s=g}function p(g,$){const _=St(g),S=n[_];$!==void 0&&(S.progress=$);const E={element:g,index:_,progress:$,direction:Z};S.state==="enter"&&t.stepProgress(E)}function m(g,$=!0){const _=St(g),S=n[_],E={element:g,index:_,direction:Z};S.direction=Z,S.state="enter",f[_]||t.stepEnter(E),c&&(f[_]=!0)}function w(g,$=!0){const _=St(g),S=n[_];if(!S.state)return!1;const E={element:g,index:_,direction:Z};l&&(Z==="down"&&S.progress<1?p(g,1):Z==="up"&&S.progress>0&&p(g,0)),S.direction=Z,S.state="exit",t.stepExit(E)}function A([g]){const $=St(g.target),_=n[$],S=g.target.offsetHeight;S!==_.height&&(_.height=S,k(_),R(_),T(_))}function M([g]){gr(i);const{isIntersecting:$,target:_}=g;$?m(_):w(_)}function b([g]){const $=St(g.target),_=n[$],{isIntersecting:S,intersectionRatio:E,target:C}=g;S&&_.state==="enter"&&p(C,E)}function k({observers:g}){Object.keys(g).map($=>{g[$].disconnect()})}function x(){n.forEach(k)}function T(g){const $=new ResizeObserver(A);$.observe(g.node),g.observers.resize=$}function O(){n.forEach(T)}function R(g){const $=window.innerHeight,_=g.offset||r,S=_.format==="pixels"?1:$,E=_.value*S,C=g.height/2-E,ht=g.height/2-($-E),dt={rootMargin:`${C}px 0px ${ht}px 0px`,threshold:.5,root:o},en=new IntersectionObserver(M,dt);en.observe(g.node),g.observers.step=en,u&&ll({id:e,step:g,marginTop:C,marginBottom:ht})}function tt(){n.forEach(R)}function D(g){const $=window.innerHeight,_=g.offset||r,S=_.format==="pixels"?1:$,E=_.value*S,C=-E+g.height,ht=E-$,wt=`${C}px 0px ${ht}px 0px`,Lt=cl(g.height,a),nt={rootMargin:wt,threshold:Lt},dt=new IntersectionObserver(b,nt);dt.observe(g.node),g.observers.progress=dt}function y(){n.forEach(D)}function N(){x(),O(),tt(),l&&y()}const v={};return v.setup=({step:g,parent:$,offset:_=.5,threshold:S=4,progress:E=!1,once:C=!1,debug:ht=!1,container:wt=void 0,root:Lt=null})=>(dl(wt),n=al(g,$).map((nt,dt)=>({index:dt,direction:void 0,height:nt.offsetHeight,node:nt,observers:{},offset:Se(nt.dataset.offset),top:hl(nt),progress:0,state:void 0})),n.length?(l=E,c=C,u=ht,a=Math.max(1,+S),r=Se(_),i=wt,o=Lt,h(),fl(n),d(!0),v):(Xt("no step elements"),v)),v.enable=()=>(d(!0),v),v.disable=()=>(d(!1),v),v.destroy=()=>(d(!1),h(),v),v.resize=()=>(N(),v),v.offset=g=>g==null?r.value:(r=Se(g),N(),v),v.onStepEnter=g=>(typeof g=="function"?t.stepEnter=g:Xt("onStepEnter requires a function"),v),v.onStepExit=g=>(typeof g=="function"?t.stepExit=g:Xt("onStepExit requires a function"),v),v.onStepProgress=g=>(typeof g=="function"?t.stepProgress=g:Xt("onStepProgress requires a function"),v),v}var mr;const Be=document.querySelector("#graphe-1");function yr(t){mr=t}var me=function(){function t(s,l){var u,c=Math.abs(l),f=(1-c)*s/2||.01;return u=f/2+s*s/(8*f),{d:u*2,o:l>0?s/2-f:-2*u+s/2+f}}function e(s,l){var u;for(u in l)s.style[u]=l[u],s.classList.add("moon-container")}function n(s,l,u){var c,f;e(s.box,{position:"relative",height:s.diameter+"px",width:s.diameter+"px",backgroundColor:s.colour,borderRadius:s.diameter/2+"px",overflow:"hidden",zIndex:"-100"}),c=l.diameter-u,f=l.offset+u/2,e(l.box,{position:"absolute",backgroundColor:l.colour,borderRadius:c/2+"px",height:c+"px",width:c+"px",left:f+"px",top:(s.diameter-c)/2+"px",boxShadow:"0px 0px "+u+"px "+u+"px "+l.colour,opacity:l.opacity})}function r(s){var l=document.createElement("div");return s.appendChild(l),l}function i(s,l,u,c){var f=r(s),h,d,p;l<.5?(h=c.lightColour,d=c.shadowColour,u&&(l*=-1)):(h=c.shadowColour,d=c.lightColour,l=1-l,u||(l*=-1)),p=t(c.diameter,l*2),n({box:s,diameter:c.diameter,colour:h},{box:f,diameter:p.d,colour:d,offset:p.o,opacity:1-c.earthshine},c.blur)}var o={shadowColour:"#0b0431",lightColour:"#9CABE0",diameter:180,earthshine:0,blur:4};function a(s){var l;for(l in o)s[l]=s[l]===void 0?o[l]:s[l];return s}return function(s,l,u,c){c=a(Object.create(c||{}));var f=r(s);i(f,l,u,c)}}();function gl(){document.querySelector("#moon-text").classList.add("cssanimation","sequence","fadeInBottom"),Be.style.opacity=1;var t=setInterval(n,30),e=.2;function n(){if(e>=mr){clearInterval(t);return}else{let r=document.querySelector(".moon-container");r!=null&&r.remove(),me(Be,e,!0),e+=.013}}}function ml(){document.querySelector(".moon-container").remove(),me(Be,.2,!0),document.querySelector("#graphe-1").style.opacity=.2,document.querySelector("#moon-text").classList.remove("cssanimation","sequence","fadeInBottom"),document.querySelector("#moon-text").style.opacity=0}const yl=Object.freeze(Object.defineProperty({__proto__:null,draw:me,scrollOn:gl,scrollOut:ml,setData:yr},Symbol.toStringTag,{value:"Module"}));function vr(t){let e=0;t.map(a=>e+=a.Sleep_duration);var n=e/t.length*60*60,r=Math.floor(n/(60*60));n=n-r*60*60;var i=Math.floor(n/60);return{hours:r,minutes:i}}function _r(t){document.querySelector("#graphe-2 #myText h2").innerText=`${t.hours}h${t.minutes}`,document.querySelector("#graphe-2 #myText h2").style.marginLeft="45px"}function vl(){document.querySelector("#graphe-2").style.opacity=1}function _l(){document.querySelector("#graphe-2").style.opacity=.2}const xl=Object.freeze(Object.defineProperty({__proto__:null,draw:_r,getData:vr,scrollOn:vl,scrollOut:_l},Symbol.toStringTag,{value:"Module"}));var it;function On(t,e){return Math.round(Math.random()*(e-t)+t)}const L={top:10,right:40,bottom:40,left:50},Ae=1200-L.left-L.right,At=600+L.top+L.bottom;function xr(t){var e=[];t.map(r=>e.push(r.Age));const n={ageAxeMin:jn(e),ageAxeMax:Tt(e),data:{name:"Age des testés",class:"ageGraph",values:[]}};e=[...new Set(e)],n.data.values.push({age:"<20",value:t.filter(r=>r.Age<=20).length,star:[]});for(let r=30;r<65;r+=10)n.data.values.push({age:`${r-10}-${r}`,value:t.filter(i=>r-10<i.Age&&i.Age<=r).length,star:[]});return n.data.values.push({age:"65<",value:t.filter(r=>65<=r.Age).length,star:[]}),n.data.values.forEach(r=>{for(let i=0;i<r.value;i+=10)r.star.push({})}),n}function wr(t){it=J("#graphe-3").append("svg").attr("width","100%").attr("height","100%").attr("viewBox","0 0 "+(Ae+L.left+L.right)+" "+(At+L.top+L.bottom)).attr("overflow","visible").append("g").attr("transform","translate("+L.left+","+L.top+")");const e=et().range([At,0]).domain([0,130]),n=he(e).ticks(7);it.append("g").call(n);const r=Zn().range([0,Ae]).domain(t.data.values.map(o=>o.age)).padding("0.2");it.append("g").attr("transform","translate(0,"+At+")").call(fe(r));var i=J("#graphe-3").append("div").style("opacity",0).attr("class","tooltip").style("background-color","white").style("border","solid").style("border-width","2px").style("border-radius","5px").style("padding","5px").style("position","absolute");it.selectAll(".gBin").data(t.data.values).enter().append("g").attr("class","gBin").attr("transform",o=>`translate(${r(o.age)+L.left}, ${At})`).on("mouseover",function(o,a){return i.style("opacity",1)}).on("mousemove",function(o,a){return i.html(`Valeur exacte: ${a.value} personnes`).style("left",`${o.layerX+10}px`).style("top",`${o.layerY}px`)}).on("mouseleave",function(o,a){return i.style("opacity",0)}).selectAll("path").data(o=>o.star.map((a,s)=>({idx:s}))).enter().append("path").attr("class","enter").attr("d","m47.776 21.864-9.86 8.748 2.954 13.024c.156.68.112 1.393-.128 2.048a3.551 3.551 0 0 1-1.22 1.636 3.454 3.454 0 0 1-3.863.17L24.486 40.6l-11.149 6.89a3.454 3.454 0 0 1-3.863-.17 3.55 3.55 0 0 1-1.22-1.636 3.612 3.612 0 0 1-.128-2.048l2.949-13.01-9.862-8.762A3.564 3.564 0 0 1 .13 20.13a3.613 3.613 0 0 1 .042-2.056 3.557 3.557 0 0 1 1.154-1.688 3.466 3.466 0 0 1 1.88-.757l12.998-1.145L21.277 2.18A3.533 3.533 0 0 1 22.56.595a3.446 3.446 0 0 1 3.867 0c.572.388 1.02.94 1.284 1.585l5.09 12.303 12.993 1.145c.687.059 1.34.322 1.88.757.54.435.941 1.022 1.154 1.688.213.666.227 1.382.042 2.056a3.564 3.564 0 0 1-1.084 1.735h-.011Z").attr("fill","#E8EA7D").attr("transform",function(o){return`translate(${On(-1e3,3e3)}, ${On(-1e3,3e3)})`}),it.append("text").attr("class","label").attr("x",Ae-530).attr("y",At+100).style("fill","white").style("text-anchor","middle").text("Répartition des âges de l'échantillon"),it.append("text").attr("class","label").attr("text-anchor","middle").attr("y",-130).attr("x",-310).attr("dy",".75em").attr("transform","rotate(-90)").style("fill","white").text("Nombre de personnes")}function wl(){document.querySelector("#graphe-3").style.opacity=1,it.selectAll(".gBin").selectAll("path").transition().ease(ge).duration(2e3).attr("transform",function(t){return"translate(0,"+-48*(t.idx+1)+")"})}function bl(){document.querySelector("#graphe-3").style.opacity=.2}const $l=Object.freeze(Object.defineProperty({__proto__:null,draw:wr,getData:xr,scrollOn:wl,scrollOut:bl},Symbol.toStringTag,{value:"Module"}));function br(t){const e=t.filter(l=>l.Caffeine_consumption>0),n=t.filter(l=>l.Caffeine_consumption===0);let r=0,i=0;e.map(l=>r+=l.Sleep_efficiency),n.map(l=>i+=l.Sleep_efficiency);const o=r/e.length,a=i/n.length;return(o-a)*100}function $r(t){document.querySelector("#graphe-4 #myText h2").innerText=`+${Math.round(t*100)/100}%`}function Sl(){document.querySelector("#graphe-4").style.opacity=1}function Al(){document.querySelector("#graphe-4").style.opacity=.2}const Ml=Object.freeze(Object.defineProperty({__proto__:null,draw:$r,getData:br,scrollOn:Sl,scrollOut:Al},Symbol.toStringTag,{value:"Module"}));function Sr(t){const e=t.filter(l=>l.Smoking_status===!0),n=t.filter(l=>l.Smoking_status===!1);let r=0,i=0;e.map(l=>r+=l.Sleep_efficiency),n.map(l=>i+=l.Sleep_efficiency);const o=r/e.length,a=i/n.length;return(o-a)*100}function Ar(t){document.querySelector("#graphe-5 #myText h2").innerText=`${Math.round(t*100)/100}%`}function kl(){document.querySelector("#graphe-5").style.opacity=1}function Nl(){document.querySelector("#graphe-5").style.opacity=.2}const El=Object.freeze(Object.defineProperty({__proto__:null,draw:Ar,getData:Sr,scrollOn:kl,scrollOut:Nl},Symbol.toStringTag,{value:"Module"}));var Et,q,at;const V={top:10,right:40,bottom:40,left:50},Me=1200-V.left-V.right,Yt=600+V.top+V.bottom;function Mr(t){var e=[];t.map(r=>e.push(r.Alcohol_consumption)),t.filter(r=>r.Alcohol_consumption>0);const n={alcoolAxeMin:jn(e),alcoolAxeMax:Tt(e),data:[{name:"Efficacité de sommeil",class:"sleepEfficiency",values:[]},{name:"Sommeil profond",class:"deepSleep",values:[]}]};return e=[...new Set(e)].sort((r,i)=>r-i),e.forEach(r=>{var i=[],o=[];t.filter(a=>a.Alcohol_consumption===r).map(function(a){i.push(a.Sleep_efficiency),o.push(a.Deep_sleep_percentage)}),n.data[0].values.push({value:ee(i)*100,alcool:r}),n.data[1].values.push({value:ee(o)*100,alcool:r})}),n}function kr(t){q=J("#graphe-6").append("svg").attr("overflow","visible").attr("width","100%").attr("height","100%").attr("viewBox","0 0 "+(Me+V.left+V.right)+" "+(Yt+V.top+V.bottom)).append("g").attr("transform","translate("+V.left+","+V.top+")");var e=[t.data[0].name,t.data[1].name];const n=et().range([Yt,0]).domain([0,100]);q.append("g").call(he(n));const r=et().range([0,Me]).domain([0,t.alcoolAxeMax]);q.append("g").attr("transform","translate(0,"+Yt+")").call(fe(r));const i=Ue().domain(e).range(Xa),o=Qe().x(s=>r(+s.alcool)).y(s=>n(+s.value));Et=q.selectAll("myLines").data(t.data).join("path").attr("class",s=>s.class).attr("d",s=>o(s.values)).attr("stroke",s=>i(s.name)).style("stroke-width",4).style("fill","none"),at=Et.node().getTotalLength(),Et.attr("stroke-dasharray",at+" "+at).attr("stroke-dashoffset",at);var a=J("#graphe-6").append("div").style("opacity",0).attr("class","tooltip").style("background-color","white").style("border","solid").style("border-width","2px").style("border-radius","5px").style("padding","5px").style("position","absolute");q.selectAll("myDots").data(t.data).join("g").attr("opacity",0).style("fill",s=>i(s.name)).attr("class",s=>`${s.class} points`).selectAll("myPoints").data(s=>s.values).join("circle").attr("cx",s=>r(s.alcool)).attr("cy",s=>n(s.value)).attr("r",7).attr("stroke","white").on("mouseover",function(s,l){return a.style("opacity",1)}).on("mousemove",function(s,l){return a.html(`Valeur exacte: ${Math.round(l.value)}%`).style("left",`${s.layerX+10}px`).style("top",`${s.layerY}px`)}).on("mouseleave",function(s,l){return a.style("opacity",0)}),q.selectAll("myLegend").data(t.data).join("g").attr("class","legend").attr("opacity",0).append("rect").attr("class","myRectStyle").attr("x",(s,l)=>60+l*450).attr("y",0).attr("width",420).attr("height",60).attr("rx",15).style("fill",s=>i(s.name)).on("click",function(s,l){var u=zt("."+l.class).style("opacity");zt("."+l.class).transition().style("opacity",u==1?.2:1)}),q.selectAll(".legend").data(t.data).append("text").attr("x",(s,l)=>93+l*485).attr("y",42).attr("position","absolute").text(s=>s.name).style("fill","white").on("click",function(s,l){var u=zt("."+l.class).style("opacity");zt("."+l.class).transition().style("opacity",u==1?.2:1)}),q.selectAll(".legend").data(t.data).on("mouseenter",function(s){s.target.querySelector(".myRectStyle").style.filter="brightness(50%)"}).on("mouseleave",function(s,l){s.target.querySelector(".myRectStyle").style.filter="brightness(100%)"}),q.append("text").attr("class","label").attr("x",Me-530).attr("y",Yt+100).style("fill","white").style("text-anchor","middle").text("Alcool consommé dans la journée (ml)"),q.append("text").attr("class","label").attr("text-anchor","middle").attr("y",-130).attr("x",-310).attr("dy",".75em").attr("transform","rotate(-90)").style("fill","white").text("Pourcentage")}function Ol(){document.querySelector("#graphe-6").style.opacity=1,Et.attr("opacity",1).transition().ease(ge).attr("stroke-dashoffset",0).duration(2e3),q.selectAll(".points").transition().delay(2e3).attr("opacity","1"),q.selectAll(".legend").transition().attr("opacity","1"),q.selectAll(".legend2").transition().delay(2100).attr("opacity","1")}function Cl(){document.querySelector("#graphe-6").style.opacity=.2,Et.transition().attr("opacity",0).attr("stroke-dasharray",at+" "+at).attr("stroke-dashoffset",at),q.selectAll(".points").transition().attr("opacity","0"),q.selectAll(".legend").transition().attr("opacity","0"),q.selectAll(".legend2").transition().attr("opacity","0")}const Tl=Object.freeze(Object.defineProperty({__proto__:null,draw:kr,getData:Mr,scrollOn:Ol,scrollOut:Cl},Symbol.toStringTag,{value:"Module"}));var Ot,K,st;const X={top:10,right:40,bottom:40,left:50},ke=1200-X.left-X.right,Ut=600+X.top+X.bottom;function Nr(t){var e=[];t.map(i=>e.push(i.Exercise_frequency));const n={sportAxeMax:Tt(e),data:{name:"Fréquence de sport",class:"sportFrequency",values:[]}};for(let i=0;i<Tt(e);i++){var r=[];t.filter(o=>o.Exercise_frequency===i).map(function(o){r.push(o.Awakenings)}),n.data.values.push({value:ee(r),sport:i})}return n}function Er(t){K=J("#graphe-7").append("svg").attr("overflow","visible").attr("width","100%").attr("height","100%").attr("viewBox","0 0 "+(ke+X.left+X.right)+" "+(Ut+X.top+X.bottom)).append("g").attr("transform","translate("+X.left+","+X.top+")");const e=et().range([Ut,0]).domain([0,3]);K.append("g").call(he(e).ticks(6));const n=et().range([0,ke]).domain([0,t.sportAxeMax]);K.append("g").attr("transform","translate(0,"+Ut+")").call(fe(n).ticks(5));const r=Qe().x(o=>n(+o.sport)).y(o=>e(+o.value));Ot=K.append("path").datum(t.data).attr("fill","none").attr("stroke","#69b3a2").attr("stroke-width",4).attr("d",o=>r(o.values)),st=Ot.node().getTotalLength(),Ot.attr("stroke-dasharray",st+" "+st).attr("stroke-dashoffset",st);var i=J("#graphe-7").append("div").style("opacity",0).attr("class","tooltip").style("background-color","white").style("border","solid").style("border-width","2px").style("border-radius","5px").style("padding","5px").style("position","absolute");K.append("g").attr("class","points").attr("opacity",0).selectAll("dot").data(t.data.values).join("circle").attr("cx",o=>n(o.sport)).attr("cy",o=>e(o.value)).attr("r",7).attr("fill","#69b3a2").on("mouseover",function(o,a){return i.style("opacity",1)}).on("mousemove",function(o,a){return i.html(`${Math.round(a.value*10)/10} réveils moyen par nuit`).style("left",`${o.layerX+10}px`).style("top",`${o.layerY}px`)}).on("mouseleave",function(o,a){return i.style("opacity",0)}),K.append("text").attr("class","label").attr("x",ke-530).attr("y",Ut+100).style("fill","white").style("text-anchor","middle").text("Séance de sport par semaine"),K.append("text").attr("class","label").attr("text-anchor","middle").attr("y",-130).attr("x",-310).attr("dy",".75em").attr("transform","rotate(-90)").style("fill","white").text("Réveils durant une nuit")}function ql(){document.querySelector("#graphe-7").style.opacity=1,Ot.attr("opacity",1).transition().ease(ge).attr("stroke-dashoffset",0).duration(2e3),K.select(".points").transition().delay(1500).attr("opacity","1")}function Rl(){document.querySelector("#graphe-7").style.opacity=.2,Ot.transition().attr("opacity",0).attr("stroke-dasharray",st+" "+st).attr("stroke-dashoffset",st),K.select(".points").transition().attr("opacity","0")}const Pl=Object.freeze(Object.defineProperty({__proto__:null,draw:Er,getData:Nr,scrollOn:ql,scrollOut:Rl},Symbol.toStringTag,{value:"Module"})),Y={top:10,right:40,bottom:40,left:50},Ne=1200-Y.left-Y.right,jt=600+Y.top+Y.bottom;var Ct,Q,lt;function Or(t){var e=[];t.map(r=>e.push(r.Caffeine_consumption)),e=[...new Set(e)].sort((r,i)=>r-i);const n={caffeineAxeMax:Tt(e),data:{name:"Efficacité de sommeil",class:"sleepEfficiency",values:[]}};return e.forEach(r=>{var i=[];t.filter(o=>o.Caffeine_consumption===r).map(function(o){i.push(o.Sleep_efficiency)}),n.data.values.push({value:ee(i)*100,caffeine:r})}),n}function Cr(t){Q=J("#graphe-8").append("svg").attr("overflow","visible").attr("width","100%").attr("height","100%").attr("viewBox","0 0 "+(Ne+Y.left+Y.right)+" "+(jt+Y.top+Y.bottom)).append("g").attr("transform","translate("+Y.left+","+Y.top+")");const e=et().range([jt,0]).domain([0,100]);Q.append("g").call(he(e));const n=et().range([0,Ne]).domain([0,t.caffeineAxeMax]);Q.append("g").attr("transform","translate(0,"+jt+")").call(fe(n));const r=Qe().x(o=>n(+o.caffeine)).y(o=>e(+o.value));var i=J("#graphe-8").append("div").style("opacity",0).attr("class","tooltip").style("background-color","white").style("border","solid").style("border-width","2px").style("border-radius","5px").style("padding","5px").style("position","absolute");Ct=Q.append("path").datum(t.data).attr("fill","none").attr("stroke","#69b3a2").attr("stroke-width",4).attr("d",o=>r(o.values)),lt=Ct.node().getTotalLength(),Ct.attr("stroke-dasharray",lt+" "+lt).attr("stroke-dashoffset",lt),Q.append("g").attr("class","points").attr("opacity","0").selectAll("dot").data(t.data.values).join("circle").attr("cx",o=>n(o.caffeine)).attr("cy",o=>e(o.value)).attr("r",7).attr("fill","#69b3a2").on("mouseover",function(o,a){return i.style("opacity",1)}).on("mousemove",function(o,a){return i.html(`Valeur exacte: ${Math.round(a.value)}%`).style("left",`${o.layerX+10}px`).style("top",`${o.layerY}px`)}).on("mouseleave",function(o,a){return i.style("opacity",0)}),Q.append("text").attr("class","label").attr("x",Ne-530).attr("y",jt+100).style("fill","white").style("text-anchor","middle").text("Caféine consommée sur une journée (mg)"),Q.append("text").attr("class","label").attr("text-anchor","middle").attr("y",-130).attr("x",-310).attr("dy",".75em").attr("transform","rotate(-90)").style("fill","white").text("Efficacité du sommeil (%)")}function Il(){document.querySelector("#graphe-8").style.opacity=1,Ct.attr("opacity",1).transition().ease(ge).attr("stroke-dashoffset",0).duration(2e3),Q.select(".points").transition().delay(1500).attr("opacity",1)}function Fl(){document.querySelector("#graphe-8").style.opacity=.2,Ct.transition().attr("opacity",0).attr("stroke-dasharray",lt+" "+lt).attr("stroke-dashoffset",lt),Q.select(".points").transition().attr("opacity","0")}const Ll=Object.freeze(Object.defineProperty({__proto__:null,draw:Cr,getData:Or,scrollOn:Il,scrollOut:Fl},Symbol.toStringTag,{value:"Module"}));function Cn(t,e,n=1){return Math.round((Math.random()*(e-t)+t)*n)/n}function zl(){document.querySelectorAll(".cloud").forEach(function(t){var e=Cn(.3,1,10);t.querySelector("svg").style.transform=`scale(${e}, ${e})`}),document.querySelectorAll(".cloud").forEach(t=>t.animate([{visibility:"visible",transform:"translate(-60vw, 0)"},{transform:"translate(100vw, 0)",visibility:"hidden"}],{duration:Cn(10500,3e4),iterations:1/0,easing:"linear"}))}const Hl=document.querySelector("#graphe-1");J("svg");Br("/data/Sleep_Efficiency.csv").then(function(t){return t.map(e=>(e.Age=+e.Age,e.id=+e.id,e.Awakenings=+e.Awakenings,e.Sleep_efficiency=+e.Sleep_efficiency,e.Alcohol_consumption=+e.Alcohol_consumption*29.5735,e.Caffeine_consumption=+e.Caffeine_consumption,e.Deep_sleep_percentage=+e.Deep_sleep_percentage/100,e.Exercise_frequency=+e.Exercise_frequency,e.Light_sleep_percentage=+e.Light_sleep_percentage/100,e.REM_sleep_percentage=+e.REM_sleep_percentage/100,e.Sleep_duration=+e.Sleep_duration,e.Sleep_efficiency=+e.Sleep_efficiency,e.Smoking_status==="Yes"?e.Smoking_status=!0:e.Smoking_status=!1)),t}).then(function(t){const e=t.filter(s=>s.Gender==="Male").length/t.length,n={malePercentage:e,femalePercentage:1-e};let r=0,i=0;const o=t.filter(s=>s.Alcohol_consumption>0),a=t.filter(s=>s.Alcohol_consumption===0);return o.map(s=>r+=s.Awakenings),a.map(s=>i+=s.Awakenings),r/o.length,i/a.length,[n,vr(t),xr(t),br(t),Sr(t),Mr(t),Nr(t),Or(t)]}).then(function(t){me(Hl,.2,!0),yr(t[0].malePercentage),_r(t[1]),wr(t[2]),$r(t[3]),Ar(t[4]),kr(t[5]),Er(t[6]),Cr(t[7]),pl().setup({step:".scroll-action"}).onStepEnter(n=>{Tn(n.element.id).scrollOn()}).onStepExit(n=>{Tn(n.element.id).scrollOut()})});function Tn(t){switch(t){case"graphe-1":return yl;case"graphe-2":return xl;case"graphe-3":return $l;case"graphe-4":return Ml;case"graphe-5":return El;case"graphe-6":return Tl;case"graphe-7":return Pl;case"graphe-8":return Ll}}window.onbeforeunload=function(){window.scrollTo(0,0)};window.addEventListener("load",t=>{zl()});window.onscroll=function(t){window.innerHeight+window.scrollY+20>=document.body.offsetHeight&&document.querySelector("#flex-bot").classList.add("cssanimation","sequence","fadeInBottom"),window.innerHeight+window.scrollY+20<document.body.offsetHeight&&document.querySelector("#flex-bot").classList.remove("cssanimation","sequence","fadeInBottom")};
